<div class="row">
    <div class="col-12">
        <table class="table table-hover" style="width:100%" border="1"  rules="none">
          <thead>
            <tr>
                <th>#</th>
                <th>Direcciones</th>
                <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>1</th>
              <td>Av. Melodic 539</td>
              <td>
                    <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>2</th>
              <td>Av. Garnet 1729</td>
              <td>
                    <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>3</th>
              <td>Av. Considerable Tortoise 209</td>
              <td>
                    <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>4</th>
              <td>Av. Yetta Desdemona 1905</td>
              <td>
                  <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>5</th>
              <td>Av. Melodic 539</td>
              <td>
                  <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>6</th>
              <td>Av. Garnet 1729</td>
              <td>
                  <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>7</th>
              <td>Av. Considerable Tortoise 209</td>
              <td>
                  <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <th>8</th>
              <td>Av. Yetta Desdemona 1905</td>
              <td>
                  <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
          </tbody>
        </table>
        
    </div>
</div>

<script>
    const iframeDireccones = document.querySelector('#iframeDireccones');
    const buttons = document.querySelectorAll('#direcciones table button[map]');
    for(let btn of buttons){
        btn.addEventListener('click', direccion);
    }
    
    function direccion(e){
        
        $('#modal_mapa').modal();
        $('#modal_mapa iframe')[0].src = e.currentTarget.getAttribute('map')
        // let btn = e.currentTarget;
        // let i = btn.querySelector('i');
        // if(i.textContent.trim() == 'gps_not_fixed'){
        //     for(let btn of buttons){
        //         btn.querySelector('i').innerText = 'gps_not_fixed';
        //     }
        //     let map = btn.getAttribute('map');
        //     iframeDireccones.src = map;
        //     i.innerText = 'gps_fixed';
        // }
    }
</script>

@section('modals')
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="modal mapa" aria-hidden="true" id="modal_mapa">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Mapa</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="model-body">
                <iframe></iframe>
            </div>
        </div>
    </div>
</div>
@endsection