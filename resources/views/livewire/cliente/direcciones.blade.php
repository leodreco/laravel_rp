<style>
    #direcciones .table tbody tr td:nth-child(3){
        padding-top: 5px;
        padding-bottom: 0;
    }
    
    #direcciones .table tbody tr td:nth-child(1), #direcciones .table thead tr th:nth-child(1){
        max-width: 35px;
        text-align: center;
    }
    
    #direcciones .table .t-direccion-acciones{
        max-width: 50px;
        text-align: center;
    }
</style>
<div class="row">
    <div class="col-12">
        <div class="table-responsive">
            <table class="table table-hover table-bordered table-striped" style="width:100%" rules="none">
          <thead>
            <tr>
                <th>#</th>
                <th>Direcciones</th>
                <th>Localidad</th>
                <th>Tipo</th>
                <th class="t-direccion-acciones">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>001</td>
              <td>Av. Melodic 539</td>
              <td>ICA, ICA, ICA</td>
              <td>ENTREGA</td>
              <td class="t-direccion-acciones">
                    <button class="btn btn-success bt-map p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <td>002</td>
              <td>Av. Garnet 1729</td>
              <td>ICA, NAZCA, NAZCA</td>
              <td>ENTREGA</td>
              <td class="t-direccion-acciones">
                    <button class="btn btn-success bt-map p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <td>003</td>
              <td>Av. Considerable Tortoise 209</td>
              <td>LUCANAS, SAN PEDRO DE PALCO</td>
              <td>ENTREGA</td>
              <td class="t-direccion-acciones">
                    <button class="btn btn-success bt-map p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <td>004</td>
              <td>Av. Yetta Desdemona 1905</td>
              <td>ICA, ICA, ICA</td>
              <td>ENTREGA</td>
              <td class="t-direccion-acciones">
                  <button class="btn btn-success bt-map p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            <tr>
              <td>005</td>
              <td>Av. Melodic 539</td>
              <td>ICA, NAZCA, NAZCA</td>
              <td>ENTREGA</td>
              <td class="t-direccion-acciones">
                  <button class="btn btn-success bt-map p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">
                        <i class="material-icons">gps_not_fixed</i>
                    </button>
              </td>
            </tr>
            {{--
            <!--<tr>-->
            <!--  <th>6</th>-->
            <!--  <td>Av. Garnet 1729</td>-->
            <!--  <td>-->
            <!--      <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">-->
            <!--            <i class="material-icons">gps_not_fixed</i>-->
            <!--        </button>-->
            <!--  </td>-->
            <!--</tr>-->
            <!--<tr>-->
            <!--  <th>7</th>-->
            <!--  <td>Av. Considerable Tortoise 209</td>-->
            <!--  <td>-->
            <!--      <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">-->
            <!--            <i class="material-icons">gps_not_fixed</i>-->
            <!--        </button>-->
            <!--  </td>-->
            <!--</tr>-->
            <!--<tr>-->
            <!--  <th>8</th>-->
            <!--  <td>Av. Yetta Desdemona 1905</td>-->
            <!--  <td>-->
            <!--      <button class="btn btn-success p-1" map="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7803.773209118893!2d-77.0423406757634!3d-12.051322411836628!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8cdda85a341%3A0xa96de306b867b279!2sPlaza%20Dos%20de%20Mayo!5e0!3m2!1ses!2spe!4v1605457099779!5m2!1ses!2spe">-->
            <!--            <i class="material-icons">gps_not_fixed</i>-->
            <!--        </button>-->
            <!--  </td>-->
            <!--</tr>-->
            --}}
          </tbody>
        </table>
        </div>
    </div>
</div>

<script>
    const iframeDireccones = document.querySelector('#iframeDireccones');
    const buttons = document.querySelectorAll('#direcciones table button[map]');
    for(let btn of buttons){
        btn.addEventListener('click', direccion);
    }
    
    function direccion(e){
        
        $('#modal_mapa').modal();
        $('#modal_mapa iframe')[0].src = e.currentTarget.getAttribute('map')
        let direccion = e.currentTarget.closest('tr').querySelectorAll('td')[1].textContent;
        document.querySelector('#modal_mapa .modal-title span').textContent = direccion;
        // let btn = e.currentTarget;
        // let i = btn.querySelector('i');
        // if(i.textContent.trim() == 'gps_not_fixed'){
        //     for(let btn of buttons){
        //         btn.querySelector('i').innerText = 'gps_not_fixed';
        //     }
        //     let map = btn.getAttribute('map');
        //     iframeDireccones.src = map;
        //     i.innerText = 'gps_fixed';
        // }
    }
</script>